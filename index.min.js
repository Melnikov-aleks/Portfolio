!function a(i,s,c){function u(e,t){if(!s[e]){if(!i[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[e]={exports:{}};i[e][0].call(o.exports,function(t){return u(i[e][1][t]||t)},o,o.exports,a,i,s,c)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)u(c[t]);return u}({1:[function(t,e,r){e.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},{}],2:[function(t,e,r){var n=t("./arrayLikeToArray");e.exports=function(t){if(Array.isArray(t))return n(t)}},{"./arrayLikeToArray":1}],3:[function(t,e,r){function c(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}e.exports=function(s){return function(){var t=this,i=arguments;return new Promise(function(e,r){var n=s.apply(t,i);function o(t){c(n,e,r,o,a,"next",t)}function a(t){c(n,e,r,o,a,"throw",t)}o(void 0)})}}},{}],4:[function(t,e,r){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],5:[function(t,e,r){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},{}],6:[function(t,e,r){e.exports=function(t){return t&&t.__esModule?t:{default:t}}},{}],7:[function(t,e,r){e.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},{}],8:[function(t,e,r){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],9:[function(t,e,r){var n=t("./arrayWithoutHoles"),o=t("./iterableToArray"),a=t("./unsupportedIterableToArray"),i=t("./nonIterableSpread");e.exports=function(t){return n(t)||o(t)||a(t)||i()}},{"./arrayWithoutHoles":2,"./iterableToArray":7,"./nonIterableSpread":8,"./unsupportedIterableToArray":10}],10:[function(t,e,r){var n=t("./arrayLikeToArray");e.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},{"./arrayLikeToArray":1}],11:[function(t,e,r){var n=function(i){"use strict";var c,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a,i,s,c,o=e&&e.prototype instanceof g?e:g,u=Object.create(o.prototype),l=new A(n||[]);return u._invoke=(a=t,i=r,s=l,c=p,function(t,e){if(c===d)throw new Error("Generator is already running");if(c===v){if("throw"===t)throw e;return T()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var n=k(r,s);if(n){if(n===y)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===p)throw c=v,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=d;var o=f(a,i,s);if("normal"===o.type){if(c=s.done?v:h,o.arg===y)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(c=v,s.method="throw",s.arg=o.arg)}}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function g(){}function u(){}function m(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(O([])));w&&w!==t&&l.call(w,o)&&(b=w);var L=m.prototype=g.prototype=Object.create(b);function j(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function x(c,u){var e;this._invoke=function(r,n){function t(){return new u(function(t,e){!function e(t,r,n,o){var a=f(c[t],c,r);if("throw"!==a.type){var i=a.arg,s=i.value;return s&&"object"==typeof s&&l.call(s,"__await")?u.resolve(s.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):u.resolve(s).then(function(t){i.value=t,n(i)},function(t){return e("throw",t,n,o)})}o(a.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}}function k(t,e){var r=t.iterator[e.method];if(r===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,k(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,y;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(l.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=c,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:c,done:!0}}return u.prototype=L.constructor=m,(m.constructor=u).displayName=a(m,n,"GeneratorFunction"),i.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,a(t,n,"GeneratorFunction")),t.prototype=Object.create(L),t},i.awrap=function(t){return{__await:t}},j(x.prototype),x.prototype[r]=function(){return this},i.AsyncIterator=x,i.async=function(t,e,r,n,o){void 0===o&&(o=Promise);var a=new x(s(t,e,r,n),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(L),a(L,n,"Generator"),L[o]=function(){return this},L.toString=function(){return"[object Generator]"},i.keys=function(r){var n=[];for(var t in r)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return a.type="throw",a.arg=r,n.next=t,e&&(n.method="next",n.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=l.call(o,"catchLoc"),s=l.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=c),y}},i}("object"==typeof e?e.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},{}],12:[function(t,e,r){e.exports=t("regenerator-runtime")},{"regenerator-runtime":11}],13:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Projects=void 0;var o=n(t("@babel/runtime/regenerator")),a=n(t("@babel/runtime/helpers/asyncToGenerator")),i=n(t("@babel/runtime/helpers/classCallCheck")),s=n(t("@babel/runtime/helpers/createClass")),c=t("./utils.js"),u=t("./templates.js"),l=function(){function e(t){(0,i.default)(this,e),this.wrapper=document.querySelector(t)}var t,r;return(0,s.default)(e,[{key:"init",value:(r=(0,a.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getData)("https://raw.githubusercontent.com/Melnikov-aleks/Portfolio/master/projects.json");case 3:this.data=t.sent,this.status="init",t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),this.status=t.t0.message;case 11:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return r.apply(this,arguments)})},{key:"render",value:function(t){this.wrapper.innerHTML="";var e=[];t.forEach(function(t){e.push((0,u.getProjectHTML)(t))}),this.wrapper.innerHTML=e.join("")}},{key:"filter",value:(t=(0,a.default)(o.default.mark(function t(){var e,r=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=0<r.length&&void 0!==r[0]?r[0]:"all","init"!==this.status)return t.next=4,this.init();t.next=4;break;case 4:t.t0=!0,t.next=t.t0===("ALL"===e.toUpperCase()&&"init"===this.status)?7:t.t0===("NEW"===e.toUpperCase()&&"init"===this.status)?9:t.t0===("init"!==this.status)?11:13;break;case 7:return this.render(this.data),t.abrupt("break",15);case 9:return this.render(this.data.slice().sort(function(t,e){return new Date(e.time)-new Date(t.time)}).filter(function(t,e){return e<6})),t.abrupt("break",15);case 11:return this.wrapper.innerHTML='<p class="error">Ошибка <span class="error__status">'.concat(this.status,"</span>, попробуйте позже!</p>"),t.abrupt("break",15);case 13:return this.render(this.data.filter(function(t){return t.tags.some(function(t){return t.toUpperCase()==e.toUpperCase()})})),t.abrupt("break",15);case 15:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})}]),e}();r.Projects=l},{"./templates.js":17,"./utils.js":18,"@babel/runtime/helpers/asyncToGenerator":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/interopRequireDefault":6,"@babel/runtime/regenerator":12}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.previewsPath=r.phoneRe=r.emailRe=r.formFeedback=r.burger=r.filterList=r.navList=r.navigation=r.projects=void 0;var n=new(t("./classes.js").Projects)(".projects-list");r.projects=n;var o=document.querySelector(".navigation");r.navigation=o;var a=document.querySelector(".navigation__list");r.navList=a;var i=document.querySelector(".filter-list");r.filterList=i;var s=document.querySelector(".burger");r.burger=s;var c=document.querySelector(".contacts__form");r.formFeedback=c;r.emailRe=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;r.phoneRe=/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/;r.previewsPath="https://github.com/Melnikov-aleks/Portfolio/raw/master/previews/"},{"./classes.js":13}],15:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.handlerSubmit=function(r){r.preventDefault(),r.target.classList.add("disabled");var t=new FormData(r.target);r.target.querySelectorAll(".form__status").forEach(function(t){return t.remove()});var e,n=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(t.keys());try{for(n.s();!(e=n.n()).done;){var o=e.value;r.target[o].classList.remove("form__input-error")}}catch(t){n.e(t)}finally{n.f()}(function(t,e){var r=0;e.get("name")||(t.name.classList.add("form__input-error"),i(t,"name is required"),r++);e.get("_replyto")||e.get("phone")?(e.get("_replyto")&&!c.emailRe.test(e.get("_replyto").toLowerCase())&&(t._replyto.classList.add("form__input-error"),i(t,"Incorrect email"),r++),e.get("phone")&&!c.phoneRe.test(e.get("phone").toLowerCase())&&(t.phone.classList.add("form__input-error"),i(t,"Incorrect phone"),r++)):(t.phone.classList.add("form__input-error"),t._replyto.classList.add("form__input-error"),i(t,"email or phone is required"),r++);return!r})(r.target,t)&&(0,a.sendData)(r.target.action,t).then(function(t){var e;(e=r.target).reset(),e.insertAdjacentHTML("beforeend",'<p class="form__status form__success">Success!</p>')}).catch(function(t){i(r.target,"Oops. Error sending form!")});r.target.classList.remove("disabled")},r.handlerBurger=function(t){t.target.closest(".burger").classList.toggle("burger--active"),c.navigation.classList.toggle("navigation--active")},r.handlerFilter=function(t){if(t.preventDefault(),!t.target.closest(".filter"))return;(0,o.default)(c.filterList.children).forEach(function(t){return t.classList.remove("filter--active")}),t.target.closest(".filter").classList.add("filter--active"),c.projects.filter(t.target.closest(".filter").getAttribute("data-filter"))},r.handleMarker=function(t){if(!t.target.closest("li")||!t.target.closest("li").offsetParent.querySelector(".marker"))return;var e=t.target.closest("li").offsetHeight,r=t.target.closest("li").offsetWidth,n=t.target.closest("li").offsetParent.offsetHeight-t.target.closest("li").offsetTop-e,o=t.target.closest("li").offsetLeft,a=t.target.closest("li").offsetParent.querySelector(".marker");a.style.bottom=n+"px",a.style.left=o+"px",a.style.width=r+"px",a.style.height=e+"px"},r.handleScroll=function(){(function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;document.querySelector(t).getBoundingClientRect().top<=e+1?document.querySelector("#header").classList.add("header--sticky"):document.querySelector("#header").classList.remove("header--sticky")})("#about",30),o=document.querySelector("#header").getBoundingClientRect().height,e=c.navigation.querySelectorAll(".navigation__link"),a=0,e.forEach(function(t){var e=document.querySelector(t.getAttribute("href")).getBoundingClientRect(),r=e.top,n=e.bottom;r<=o&&o<n?(t.classList.add("navigation__link--active"),a++):t.classList.remove("navigation__link--active")}),1<a&&(r=c.navigation,i=n=0,(s=r.querySelectorAll(".navigation__link--active")).forEach(function(t,e){t.classList.remove("navigation__link--active");var r=document.querySelector(t.getAttribute("href")).getBoundingClientRect().top;0===e?n=r:n<=r&&(n=r,i=e)}),s[i].classList.add("navigation__link--active")),t=document.querySelector("#about"),document.documentElement.clientHeight>=1.2*t.getBoundingClientRect().top&&t.classList.add("show");var t;var o,e,a,r,n,i,s},r.scrollToAnchor=function(t){if(t.preventDefault(),!t.target.closest(".navigation__link"))return;var e=document.querySelector(t.target.getAttribute("href")).getBoundingClientRect().top,r=e+pageYOffset;e>=document.querySelector("#intro").nextElementSibling.getBoundingClientRect().top&&(r-=30);document.querySelector(".burger").classList.remove("burger--active"),c.navigation.classList.remove("navigation--active"),window.scrollTo({top:r,behavior:"smooth"})};var o=n(t("@babel/runtime/helpers/toConsumableArray")),c=t("./constants.js"),a=t("./utils.js");function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){t.insertAdjacentHTML("beforeend",'<p class="form__status form__error">'.concat(e,"</p>"))}},{"./constants.js":14,"./utils.js":18,"@babel/runtime/helpers/interopRequireDefault":6,"@babel/runtime/helpers/toConsumableArray":9}],16:[function(t,e,r){"use strict";var n=t("./constants.js"),o=t("./handlers.js");window.addEventListener("scroll",o.handleScroll),n.burger.addEventListener("click",o.handlerBurger),n.navigation.addEventListener("click",o.scrollToAnchor),n.navList.addEventListener("mouseover",o.handleMarker),n.filterList.addEventListener("click",o.handlerFilter),n.filterList.addEventListener("mouseover",o.handleMarker),n.formFeedback.addEventListener("submit",o.handlerSubmit),n.projects.filter()},{"./constants.js":14,"./handlers.js":15}],17:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getProjectHTML=function(t){return'\n\t<li class="projects-list__item project" data-tag="'.concat(t.tags.join(" "),'" data-time="').concat(t.time,'">\n\t<h3 class="project__title">').concat(t.name,"</h3>\n\t\t").concat(function(t,e){var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push('\n\t\t\t<div class="project__preview-'.concat(n,'">\n\t\t\t\t<img class="project__img-').concat(n,'" src="').concat(o.previewsPath).concat(t[n],'" alt="').concat(e,'">\n\t\t\t</div>'));return r.length?'<figure class="project__previews">'.concat(r.join(""),"</figure>"):""}(t.previews,t.name),'\n\t\t<p class="project__description">').concat(t.description,"</p>\n\t\t").concat(function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push('<li class="project__tag">'.concat(t[r],"</li>"));return e.length?'<ul class="project__tags-list">'.concat(e.join(""),"</ul>"):""}(t.keywords),"\n\t\t").concat(function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push('<a class="project__btn btn-'.concat(r,' btn" href="').concat(t[r],'" target="_blank" rel="noopener noreferrer">\n\t\t\t\t\t<span class="btn__border"></span>\n\t\t\t\t\t<span class="btn__border"></span>\n\t\t\t\t\t<span class="btn__border"></span>\n\t\t\t\t\t<span class="btn__border"></span>\n\t\t\t\t\t').concat(r,"\n\t\t\t\t</a>"));return e.length?'<div class="project__buttons">'.concat(e.join(""),"</div>"):""}(t.links),"\n\t</li>")};var o=t("./constants.js")},{"./constants.js":14}],18:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.sendData=function(t,e){return i.apply(this,arguments)},r.getData=function(t){return s.apply(this,arguments)};var o=n(t("@babel/runtime/regenerator")),a=n(t("@babel/runtime/helpers/asyncToGenerator"));function i(){return(i=(0,a.default)(o.default.mark(function t(e,r){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(r))});case 3:if((n=t.sent).ok){t.next=6;break}throw new Error(n.status);case 6:return t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}},t,null,[[0,9]])}))).apply(this,arguments)}function s(){return(s=(0,a.default)(o.default.mark(function t(e){var r,n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if((r=t.sent).ok){t.next=6;break}throw new Error(r.status);case 6:return t.next=8,r.json();case 8:return n=t.sent,t.abrupt("return",n);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}},t,null,[[0,12]])}))).apply(this,arguments)}},{"@babel/runtime/helpers/asyncToGenerator":3,"@babel/runtime/helpers/interopRequireDefault":6,"@babel/runtime/regenerator":12}]},{},[16]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRob3V0SG9sZXMuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwic3JjL2pzL2NsYXNzZXMuanMiLCJzcmMvanMvY29uc3RhbnRzLmpzIiwic3JjL2pzL2hhbmRsZXJzLmpzIiwic3JjL2pzL3NjcmlwdHMuanMiLCJzcmMvanMvdGVtcGxhdGVzLmpzIiwic3JjL2pzL3V0aWxzLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsImFycmF5TGlrZVRvQXJyYXkiLCJpc0FycmF5IiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwicmVzb2x2ZSIsInJlamVjdCIsIl9uZXh0IiwiX3Rocm93Iiwia2V5IiwiYXJnIiwiaW5mbyIsInZhbHVlIiwiZXJyb3IiLCJkb25lIiwiUHJvbWlzZSIsInRoZW4iLCJmbiIsInNlbGYiLCJ0aGlzIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJhcnJheVdpdGhvdXRIb2xlcyIsIml0ZXJhYmxlVG9BcnJheSIsInVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVTcHJlYWQiLCJtaW5MZW4iLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGVzdCIsInJ1bnRpbWUiLCJPcCIsImhhc093biIsImhhc093blByb3BlcnR5IiwiJFN5bWJvbCIsIml0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwidHJ5TG9jc0xpc3QiLCJjb250ZXh0Iiwic3RhdGUiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsIkNvbnRleHQiLCJfaW52b2tlIiwiR2VuU3RhdGVTdXNwZW5kZWRTdGFydCIsIm1ldGhvZCIsIkdlblN0YXRlRXhlY3V0aW5nIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJpbnZva2UiLCJyZXN1bHQiLCJfX2F3YWl0IiwidW53cmFwcGVkIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsImtleXMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsImNhdGNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiRnVuY3Rpb24iLCJfdXRpbHMiLCJfdGVtcGxhdGVzIiwiUHJvamVjdHMiLCJzZWxlY3RvciIsIl9jbGFzc0NhbGxDaGVjazIiLCJ3cmFwcGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RGF0YSIsImRhdGEiLCJzdGF0dXMiLCJjb25zb2xlIiwiX2NvbnRleHQiLCJ0MCIsIm1lc3NhZ2UiLCJwcm9qZWN0cyIsImlubmVySFRNTCIsImh0bWwiLCJwcm9qZWN0IiwiZ2V0UHJvamVjdEhUTUwiLCJqb2luIiwiX2ZpbHRlciIsImluaXQiLCJ0b1VwcGVyQ2FzZSIsInJlbmRlciIsInNvcnQiLCJiIiwiRGF0ZSIsInRpbWUiLCJmaWx0ZXIiLCJjb25jYXQiLCJ0YWdzIiwic29tZSIsInRhZyIsIm5hdmlnYXRpb24iLCJuYXZMaXN0IiwiZmlsdGVyTGlzdCIsImJ1cmdlciIsImZvcm1GZWVkYmFjayIsInByZXZlbnREZWZhdWx0IiwiY2xhc3NMaXN0IiwiYWRkIiwiRm9ybURhdGEiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlbSIsInJlbW92ZSIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJzIiwiZm9ybSIsImZvcm1EYXRhIiwiZ2V0Iiwic2VuZEVycm9yIiwiX2NvbnN0YW50cyIsImVtYWlsUmUiLCJ0b0xvd2VyQ2FzZSIsInBob25lUmUiLCJ2YWxpZGF0ZUZvcm0iLCJzZW5kRGF0YSIsImFjdGlvbiIsInJlc3BvbnNlIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY2xvc2VzdCIsInRvZ2dsZSIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJjaGlsZHJlbiIsImdldEF0dHJpYnV0ZSIsIm9mZnNldFBhcmVudCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJib3R0b20iLCJvZmZzZXRUb3AiLCJsZWZ0Iiwib2Zmc2V0TGVmdCIsIm1hcmtlciIsInN0eWxlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiY29udHJvbFN0eWNreUhlYWRlciIsImhlYWRlckhlaWdodCIsIm5hdkxpbmtzIiwiY291bnRlciIsImxpbmsiLCJfZG9jdW1lbnQkcXVlcnlTZWxlY3QiLCJjb250YWluZXIiLCJpbmRleCIsIm1heFRvcCIsImxpbmtzIiwiYWJvdXQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJhbmNob3JUb3BPZmZzZXQiLCJzY3JvbGxYIiwicGFnZVlPZmZzZXQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ3aW5kb3ciLCJzY3JvbGxUbyIsImJlaGF2aW9yIiwidGV4dCIsIl9oYW5kbGVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTY3JvbGwiLCJoYW5kbGVyQnVyZ2VyIiwic2Nyb2xsVG9BbmNob3IiLCJoYW5kbGVNYXJrZXIiLCJoYW5kbGVyRmlsdGVyIiwiaGFuZGxlclN1Ym1pdCIsInByZXZpZXdzIiwicHJldmlld3NQYXRoIiwiZ2V0UHJldmlld3NIVE1MIiwiZGVzY3JpcHRpb24iLCJrZXl3b3JkcyIsImdldEtleXdvcmRzSFRNTCIsImdldEJ1dHRvbnNIVE1MIiwiX2NhbGxlZSIsInVybCIsIl9yZWdlbmVyYXRvciIsImZldGNoIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbUVudHJpZXMiLCJvayIsIl9jYWxsZWUyIiwiX2NvbnRleHQyIiwianNvbiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsSUFBQUUsRUFBQSxtQkFBQUMsU0FBQUEsUUFBQSxJQUFBRixHQUFBQyxFQUFBLE9BQUFBLEVBQUFGLEdBQUEsR0FBQSxHQUFBSSxFQUFBLE9BQUFBLEVBQUFKLEdBQUEsR0FBQSxJQUFBSyxFQUFBLElBQUFDLE1BQUEsdUJBQUFOLEVBQUEsS0FBQSxNQUFBSyxFQUFBRSxLQUFBLG1CQUFBRixFQUFBLElBQUFHLEVBQUFYLEVBQUFHLEdBQUEsQ0FBQVMsUUFBQSxJQUFBYixFQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFFBQUEsU0FBQWQsR0FBQSxPQUFBSSxFQUFBSCxFQUFBSSxHQUFBLEdBQUFMLElBQUFBLElBQUFhLEVBQUFBLEVBQUFDLFFBQUFkLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsT0FBQUQsRUFBQUcsR0FBQVMsUUFBQSxJQUFBLElBQUFMLEVBQUEsbUJBQUFELFNBQUFBLFFBQUFILEVBQUEsRUFBQUEsRUFBQUYsRUFBQWEsT0FBQVgsSUFBQUQsRUFBQUQsRUFBQUUsSUFBQSxPQUFBRCxFQUFBLENBQUEsQ0FBQWEsRUFBQSxDQUFBLFNBQUFULEVBQUFVLEVBQUFKLEdDVUFJLEVBQUFKLFFBVkEsU0FBQUssRUFBQUMsSUFDQSxNQUFBQSxHQUFBQSxFQUFBRCxFQUFBSCxVQUFBSSxFQUFBRCxFQUFBSCxRQUVBLElBQUEsSUFBQVgsRUFBQSxFQUFBZ0IsRUFBQSxJQUFBQyxNQUFBRixHQUFBZixFQUFBZSxFQUFBZixJQUNBZ0IsRUFBQWhCLEdBQUFjLEVBQUFkLEdBR0EsT0FBQWdCLDJCQ1BBLElBQUFFLEVBQUFmLEVBQUEsc0JBTUFVLEVBQUFK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QUFBLFFBQUExTixLQUFBLFNBQUFvTyxHQUFBLE9BQUEsT0FBQUEsRUFBQXJKLEtBQUFxSixFQUFBcEwsTUFBQSxLQUFBLEVBQUEsT0FBQW9MLEVBQUFySixLQUFBLEVBQUFxSixFQUFBcEwsS0FBQSxFQUV3QjJLLE1BQU1GLEdBRjlCLEtBQUEsRUFBQSxJQUVPekQsRUFGUG9FLEVBQUEvTSxNQUdlNk0sR0FIZixDQUFBRSxFQUFBcEwsS0FBQSxFQUFBLE1BQUEsTUFHeUIsSUFBSS9ILE1BQU0rTyxFQUFTbkQsUUFINUMsS0FBQSxFQUFBLE9BQUF1SCxFQUFBcEwsS0FBQSxFQUlvQmdILEVBQVNxRSxPQUo3QixLQUFBLEVBQUEsT0FJT3pILEVBSlB3SCxFQUFBL00sS0FBQStNLEVBQUE1TSxPQUFBLFNBS1FvRixHQUxSLEtBQUEsR0FBQSxNQUFBd0gsRUFBQXJKLEtBQUEsR0FBQXFKLEVBQUFwSCxHQUFBb0gsRUFBQSxNQUFBLEdBQUFBLEVBQUFwSCxHQUFBLEtBQUEsR0FBQSxJQUFBLE1BQUEsT0FBQW9ILEVBQUFuSixTQUFBa0osRUFBQSxLQUFBLENBQUEsQ0FBQSxFQUFBIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5TGlrZVRvQXJyYXk7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzOyIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDsiLCJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheTsiLCJmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVNwcmVhZDsiLCJ2YXIgYXJyYXlXaXRob3V0SG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhvdXRIb2xlc1wiKTtcblxudmFyIGl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVNwcmVhZCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlU3ByZWFkXCIpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdG9Db25zdW1hYmxlQXJyYXk7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy5cbiAgICBkZWZpbmUoe30sIFwiXCIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBkZWZpbmUgPSBmdW5jdGlvbihvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvclwiKTtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCJpbXBvcnQgeyBnZXREYXRhIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBnZXRQcm9qZWN0SFRNTCB9IGZyb20gJy4vdGVtcGxhdGVzLmpzJztcblxuZXhwb3J0IGNsYXNzIFByb2plY3RzIHtcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGF3YWl0IGdldERhdGEoXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NZWxuaWtvdi1hbGVrcy9Qb3J0Zm9saW8vbWFzdGVyL3Byb2plY3RzLmpzb24nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSAnaW5pdCc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBlcnIubWVzc2FnZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIocHJvamVjdHMpIHtcbiAgICAgICAgdGhpcy53cmFwcGVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBodG1sID0gW107XG4gICAgICAgIHByb2plY3RzLmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgIGh0bWwucHVzaChnZXRQcm9qZWN0SFRNTChwcm9qZWN0KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndyYXBwZXIuaW5uZXJIVE1MID0gaHRtbC5qb2luKCcnKTtcbiAgICB9XG4gICAgYXN5bmMgZmlsdGVyKGZpbHRlciA9ICdhbGwnKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gJ2luaXQnKSBhd2FpdCB0aGlzLmluaXQoKTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgZmlsdGVyLnRvVXBwZXJDYXNlKCkgPT09ICdBTEwnICYmIHRoaXMuc3RhdHVzID09PSAnaW5pdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZmlsdGVyLnRvVXBwZXJDYXNlKCkgPT09ICdORVcnICYmIHRoaXMuc3RhdHVzID09PSAnaW5pdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIudGltZSkgLSBuZXcgRGF0ZShhLnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHByb2plY3QsIGkpID0+IGkgPCA2KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRoaXMuc3RhdHVzICE9PSAnaW5pdCc6XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLmlubmVySFRNTCA9IGA8cCBjbGFzcz1cImVycm9yXCI+0J7RiNC40LHQutCwIDxzcGFuIGNsYXNzPVwiZXJyb3JfX3N0YXR1c1wiPiR7dGhpcy5zdGF0dXN9PC9zcGFuPiwg0L/QvtC/0YDQvtCx0YPQudGC0LUg0L/QvtC30LbQtSE8L3A+YDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5maWx0ZXIoKHByb2plY3QpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0LnRhZ3Muc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGFnKSA9PiB0YWcudG9VcHBlckNhc2UoKSA9PSBmaWx0ZXIudG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFByb2plY3RzIH0gZnJvbSAnLi9jbGFzc2VzLmpzJztcblxuZXhwb3J0IGNvbnN0IHByb2plY3RzID0gbmV3IFByb2plY3RzKCcucHJvamVjdHMtbGlzdCcpO1xuXG5leHBvcnQgY29uc3QgbmF2aWdhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uJyk7XG5leHBvcnQgY29uc3QgbmF2TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uX19saXN0Jyk7XG5leHBvcnQgY29uc3QgZmlsdGVyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXItbGlzdCcpO1xuZXhwb3J0IGNvbnN0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXInKTtcblxuZXhwb3J0IGNvbnN0IGZvcm1GZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0c19fZm9ybScpO1xuXG5leHBvcnQgY29uc3QgZW1haWxSZSA9IC9bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT8vO1xuZXhwb3J0IGNvbnN0IHBob25lUmUgPSAvXihcXCs3fDd8OCk/W1xcc1xcLV0/XFwoP1s0ODldWzAtOV17Mn1cXCk/W1xcc1xcLV0/WzAtOV17M31bXFxzXFwtXT9bMC05XXsyfVtcXHNcXC1dP1swLTldezJ9JC87XG5cbmV4cG9ydCBjb25zdCBwcmV2aWV3c1BhdGggPVxuICAgICdodHRwczovL2dpdGh1Yi5jb20vTWVsbmlrb3YtYWxla3MvUG9ydGZvbGlvL3Jhdy9tYXN0ZXIvcHJldmlld3MvJztcbiIsImltcG9ydCB7IHByb2plY3RzLCBmaWx0ZXJMaXN0LCBuYXZpZ2F0aW9uLCBlbWFpbFJlLCBwaG9uZVJlIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgc2VuZERhdGEgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZXJTdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoZS50YXJnZXQpO1xuICAgIGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19zdGF0dXMnKS5mb3JFYWNoKChlbGVtKSA9PiBlbGVtLnJlbW92ZSgpKTtcbiAgICBmb3IgKGxldCBrZXkgb2YgZGF0YS5rZXlzKCkpIHtcbiAgICAgICAgZS50YXJnZXRba2V5XS5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtX19pbnB1dC1lcnJvcicpO1xuICAgIH1cblxuICAgIGlmICh2YWxpZGF0ZUZvcm0oZS50YXJnZXQsIGRhdGEpKSB7XG4gICAgICAgIHNlbmREYXRhKGUudGFyZ2V0LmFjdGlvbiwgZGF0YSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbmRTdWNjZXNzKGUudGFyZ2V0KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbmRFcnJvcihlLnRhcmdldCwgJ09vcHMuIEVycm9yIHNlbmRpbmcgZm9ybSEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xufVxuZnVuY3Rpb24gc2VuZFN1Y2Nlc3MoZm9ybSkge1xuICAgIGZvcm0ucmVzZXQoKTtcbiAgICBmb3JtLmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgJ2JlZm9yZWVuZCcsXG4gICAgICAgIGA8cCBjbGFzcz1cImZvcm1fX3N0YXR1cyBmb3JtX19zdWNjZXNzXCI+U3VjY2VzcyE8L3A+YFxuICAgICk7XG59XG5mdW5jdGlvbiBzZW5kRXJyb3IoZm9ybSwgdGV4dCkge1xuICAgIGZvcm0uaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgICAnYmVmb3JlZW5kJyxcbiAgICAgICAgYDxwIGNsYXNzPVwiZm9ybV9fc3RhdHVzIGZvcm1fX2Vycm9yXCI+JHt0ZXh0fTwvcD5gXG4gICAgKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRm9ybShmb3JtLCBmb3JtRGF0YSkge1xuICAgIGxldCBlcnJvciA9IDA7XG4gICAgaWYgKCFmb3JtRGF0YS5nZXQoJ25hbWUnKSkge1xuICAgICAgICBmb3JtWyduYW1lJ10uY2xhc3NMaXN0LmFkZCgnZm9ybV9faW5wdXQtZXJyb3InKTtcbiAgICAgICAgc2VuZEVycm9yKGZvcm0sICduYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIGVycm9yKys7XG4gICAgfVxuICAgIGlmICghZm9ybURhdGEuZ2V0KCdfcmVwbHl0bycpICYmICFmb3JtRGF0YS5nZXQoJ3Bob25lJykpIHtcbiAgICAgICAgZm9ybVsncGhvbmUnXS5jbGFzc0xpc3QuYWRkKCdmb3JtX19pbnB1dC1lcnJvcicpO1xuICAgICAgICBmb3JtWydfcmVwbHl0byddLmNsYXNzTGlzdC5hZGQoJ2Zvcm1fX2lucHV0LWVycm9yJyk7XG4gICAgICAgIHNlbmRFcnJvcihmb3JtLCAnZW1haWwgb3IgcGhvbmUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgZXJyb3IrKztcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBmb3JtRGF0YS5nZXQoJ19yZXBseXRvJykgJiZcbiAgICAgICAgICAgICFlbWFpbFJlLnRlc3QoZm9ybURhdGEuZ2V0KCdfcmVwbHl0bycpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICkge1xuICAgICAgICAgICAgZm9ybVsnX3JlcGx5dG8nXS5jbGFzc0xpc3QuYWRkKCdmb3JtX19pbnB1dC1lcnJvcicpO1xuICAgICAgICAgICAgc2VuZEVycm9yKGZvcm0sICdJbmNvcnJlY3QgZW1haWwnKTtcbiAgICAgICAgICAgIGVycm9yKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1EYXRhLmdldCgncGhvbmUnKSAmJiAhcGhvbmVSZS50ZXN0KGZvcm1EYXRhLmdldCgncGhvbmUnKS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgZm9ybVsncGhvbmUnXS5jbGFzc0xpc3QuYWRkKCdmb3JtX19pbnB1dC1lcnJvcicpO1xuICAgICAgICAgICAgc2VuZEVycm9yKGZvcm0sICdJbmNvcnJlY3QgcGhvbmUnKTtcbiAgICAgICAgICAgIGVycm9yKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFlcnJvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVyQnVyZ2VyKGUpIHtcbiAgICBlLnRhcmdldC5jbG9zZXN0KCcuYnVyZ2VyJykuY2xhc3NMaXN0LnRvZ2dsZSgnYnVyZ2VyLS1hY3RpdmUnKTtcbiAgICBuYXZpZ2F0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ25hdmlnYXRpb24tLWFjdGl2ZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZXJGaWx0ZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5maWx0ZXInKSkgcmV0dXJuO1xuICAgIFsuLi5maWx0ZXJMaXN0LmNoaWxkcmVuXS5mb3JFYWNoKChmaWx0ZXIpID0+XG4gICAgICAgIGZpbHRlci5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXItLWFjdGl2ZScpXG4gICAgKTtcbiAgICBlLnRhcmdldC5jbG9zZXN0KCcuZmlsdGVyJykuY2xhc3NMaXN0LmFkZCgnZmlsdGVyLS1hY3RpdmUnKTtcbiAgICBwcm9qZWN0cy5maWx0ZXIoZS50YXJnZXQuY2xvc2VzdCgnLmZpbHRlcicpLmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXInKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVNYXJrZXIoZSkge1xuICAgIGlmIChcbiAgICAgICAgIWUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykgfHxcbiAgICAgICAgIWUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykub2Zmc2V0UGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYXJrZXInKVxuICAgIClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGhlaWdodCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IHdpZHRoID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKS5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCBib3R0b20gPVxuICAgICAgICBlLnRhcmdldC5jbG9zZXN0KCdsaScpLm9mZnNldFBhcmVudC5vZmZzZXRIZWlnaHQgLVxuICAgICAgICBlLnRhcmdldC5jbG9zZXN0KCdsaScpLm9mZnNldFRvcCAtXG4gICAgICAgIGhlaWdodDtcbiAgICBjb25zdCBsZWZ0ID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKS5vZmZzZXRMZWZ0O1xuICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykub2Zmc2V0UGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYXJrZXInKTtcbiAgICBtYXJrZXIuc3R5bGUuYm90dG9tID0gYm90dG9tICsgJ3B4JztcbiAgICBtYXJrZXIuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xuICAgIG1hcmtlci5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICBtYXJrZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG4gICAgY29udHJvbFN0eWNreUhlYWRlcignI2Fib3V0JywgMzApO1xuICAgIHNldEFjdGl2ZU5hdigpO1xuICAgIHNob3dBYm91dEJsb2NrKCk7XG59XG5mdW5jdGlvbiBzaG93QWJvdXRCbG9jaygpIHtcbiAgICBjb25zdCBhYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhYm91dCcpO1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID49IGFib3V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAqIDEuMilcbiAgICAgICAgYWJvdXQuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xufVxuZnVuY3Rpb24gc2V0QWN0aXZlTmF2KCkge1xuICAgIGNvbnN0IGhlYWRlckhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXInKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgY29uc3QgbmF2TGlua3MgPSBuYXZpZ2F0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZpZ2F0aW9uX19saW5rJyk7XG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgIG5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgICAgY29uc3QgeyB0b3AsIGJvdHRvbSB9ID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykpXG4gICAgICAgICAgICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmICh0b3AgPD0gaGVhZGVySGVpZ2h0ICYmIGJvdHRvbSA+IGhlYWRlckhlaWdodCkge1xuICAgICAgICAgICAgbGluay5jbGFzc0xpc3QuYWRkKCduYXZpZ2F0aW9uX19saW5rLS1hY3RpdmUnKTtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgfSBlbHNlIGxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnbmF2aWdhdGlvbl9fbGluay0tYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgaWYgKGNvdW50ZXIgPiAxKSB7XG4gICAgICAgIHNvbHZlQ29uZmxpY3RBY3RpdmVMaW5rcyhuYXZpZ2F0aW9uKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbnRyb2xTdHlja3lIZWFkZXIoc2VsZWN0b3IsIGhlaWdodCA9IDApIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPD0gaGVpZ2h0ICsgMVxuICAgICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkZXInKS5jbGFzc0xpc3QuYWRkKCdoZWFkZXItLXN0aWNreScpXG4gICAgICAgIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlYWRlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci0tc3RpY2t5Jyk7XG59XG5mdW5jdGlvbiBzb2x2ZUNvbmZsaWN0QWN0aXZlTGlua3MoY29udGFpbmVyKSB7XG4gICAgbGV0IG1heFRvcCA9IDA7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBjb25zdCBsaW5rcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcubmF2aWdhdGlvbl9fbGluay0tYWN0aXZlJyk7XG4gICAgbGlua3MuZm9yRWFjaCgobGluaywgaSkgPT4ge1xuICAgICAgICBsaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ25hdmlnYXRpb25fX2xpbmstLWFjdGl2ZScpO1xuICAgICAgICBjb25zdCB0b3AgPSBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IobGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSlcbiAgICAgICAgICAgIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgIGlmIChpID09PSAwKSBtYXhUb3AgPSB0b3A7XG4gICAgICAgIGVsc2UgaWYgKHRvcCA+PSBtYXhUb3ApIHtcbiAgICAgICAgICAgIG1heFRvcCA9IHRvcDtcbiAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxpbmtzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCduYXZpZ2F0aW9uX19saW5rLS1hY3RpdmUnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvQW5jaG9yKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcubmF2aWdhdGlvbl9fbGluaycpKSByZXR1cm47XG4gICAgY29uc3QgYW5jaG9yVG9wT2Zmc2V0ID0gZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJykpXG4gICAgICAgIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgbGV0IHNjcm9sbFggPSBhbmNob3JUb3BPZmZzZXQgKyBwYWdlWU9mZnNldDtcbiAgICBpZiAoXG4gICAgICAgIGFuY2hvclRvcE9mZnNldCA+PVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW50cm8nKS5uZXh0RWxlbWVudFNpYmxpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXG4gICAgKVxuICAgICAgICBzY3JvbGxYIC09IDMwO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2J1cmdlci0tYWN0aXZlJyk7XG4gICAgbmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXZpZ2F0aW9uLS1hY3RpdmUnKTtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgICB0b3A6IHNjcm9sbFgsXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7XG4gICAgYnVyZ2VyLFxuICAgIGZpbHRlckxpc3QsXG4gICAgcHJvamVjdHMsXG4gICAgbmF2aWdhdGlvbixcbiAgICBuYXZMaXN0LFxuICAgIGZvcm1GZWVkYmFjayxcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHtcbiAgICBoYW5kbGVTY3JvbGwsXG4gICAgc2Nyb2xsVG9BbmNob3IsXG4gICAgaGFuZGxlckZpbHRlcixcbiAgICBoYW5kbGVyQnVyZ2VyLFxuICAgIGhhbmRsZU1hcmtlcixcbiAgICBoYW5kbGVyU3VibWl0LFxufSBmcm9tICcuL2hhbmRsZXJzLmpzJztcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7XG5cbmJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZXJCdXJnZXIpO1xuXG5uYXZpZ2F0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2Nyb2xsVG9BbmNob3IpO1xubmF2TGlzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBoYW5kbGVNYXJrZXIpO1xuXG5maWx0ZXJMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlckZpbHRlcik7XG5maWx0ZXJMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGhhbmRsZU1hcmtlcik7XG5cbmZvcm1GZWVkYmFjay5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVyU3VibWl0KTtcblxucHJvamVjdHMuZmlsdGVyKCk7XG4iLCJpbXBvcnQgeyBwcmV2aWV3c1BhdGggfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9qZWN0SFRNTChwcm9qZWN0KSB7XG4gICAgcmV0dXJuIGBcblx0PGxpIGNsYXNzPVwicHJvamVjdHMtbGlzdF9faXRlbSBwcm9qZWN0XCIgZGF0YS10YWc9XCIke3Byb2plY3QudGFncy5qb2luKCcgJyl9XCIgZGF0YS10aW1lPVwiJHtcbiAgICAgICAgcHJvamVjdC50aW1lXG4gICAgfVwiPlxuXHQ8aDMgY2xhc3M9XCJwcm9qZWN0X190aXRsZVwiPiR7cHJvamVjdC5uYW1lfTwvaDM+XG5cdFx0JHtnZXRQcmV2aWV3c0hUTUwocHJvamVjdC5wcmV2aWV3cywgcHJvamVjdC5uYW1lKX1cblx0XHQ8cCBjbGFzcz1cInByb2plY3RfX2Rlc2NyaXB0aW9uXCI+JHtwcm9qZWN0LmRlc2NyaXB0aW9ufTwvcD5cblx0XHQke2dldEtleXdvcmRzSFRNTChwcm9qZWN0LmtleXdvcmRzKX1cblx0XHQke2dldEJ1dHRvbnNIVE1MKHByb2plY3QubGlua3MpfVxuXHQ8L2xpPmA7XG59XG5cbmZ1bmN0aW9uIGdldFByZXZpZXdzSFRNTChwcmV2aWV3cywgbmFtZSkge1xuICAgIGNvbnN0IGh0bWwgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcmV2aWV3cykge1xuICAgICAgICBpZiAocHJldmlld3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgaHRtbC5wdXNoKGBcblx0XHRcdDxkaXYgY2xhc3M9XCJwcm9qZWN0X19wcmV2aWV3LSR7a2V5fVwiPlxuXHRcdFx0XHQ8aW1nIGNsYXNzPVwicHJvamVjdF9faW1nLSR7a2V5fVwiIHNyYz1cIiR7cHJldmlld3NQYXRofSR7cHJldmlld3Nba2V5XX1cIiBhbHQ9XCIke25hbWV9XCI+XG5cdFx0XHQ8L2Rpdj5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaHRtbC5sZW5ndGgpIHJldHVybiBgPGZpZ3VyZSBjbGFzcz1cInByb2plY3RfX3ByZXZpZXdzXCI+JHtodG1sLmpvaW4oJycpfTwvZmlndXJlPmA7XG4gICAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRLZXl3b3Jkc0hUTUwoa2V5d29yZHMpIHtcbiAgICBjb25zdCBodG1sID0gW107XG4gICAgZm9yIChjb25zdCBrZXkgaW4ga2V5d29yZHMpIHtcbiAgICAgICAgaWYgKGtleXdvcmRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGh0bWwucHVzaChgPGxpIGNsYXNzPVwicHJvamVjdF9fdGFnXCI+JHtrZXl3b3Jkc1trZXldfTwvbGk+YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGh0bWwubGVuZ3RoKSByZXR1cm4gYDx1bCBjbGFzcz1cInByb2plY3RfX3RhZ3MtbGlzdFwiPiR7aHRtbC5qb2luKCcnKX08L3VsPmA7XG4gICAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRCdXR0b25zSFRNTChsaW5rcykge1xuICAgIGNvbnN0IGh0bWwgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBsaW5rcykge1xuICAgICAgICBpZiAobGlua3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgaHRtbC5wdXNoKFxuICAgICAgICAgICAgICAgIGA8YSBjbGFzcz1cInByb2plY3RfX2J0biBidG4tJHtrZXl9IGJ0blwiIGhyZWY9XCIke2xpbmtzW2tleV19XCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiYnRuX19ib3JkZXJcIj48L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJidG5fX2JvcmRlclwiPjwvc3Bhbj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImJ0bl9fYm9yZGVyXCI+PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiYnRuX19ib3JkZXJcIj48L3NwYW4+XG5cdFx0XHRcdFx0JHtrZXl9XG5cdFx0XHRcdDwvYT5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChodG1sLmxlbmd0aCkgcmV0dXJuIGA8ZGl2IGNsYXNzPVwicHJvamVjdF9fYnV0dG9uc1wiPiR7aHRtbC5qb2luKCcnKX08L2Rpdj5gO1xuICAgIHJldHVybiAnJztcbn1cbiIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRGF0YSh1cmwsIGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShPYmplY3QuZnJvbUVudHJpZXMoZGF0YSkpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXRhKHVybCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfVxufVxuIl19
